# Игра "Виселица"
#
# Напишите программу для игры "Виселица". Игроку дается слово, которое он должен угадать, называя буквы.
# Если игрок называет неправильную букву, ему начисляется штрафное очко.
# Игра заканчивается победой при угадывании слова или проигрышем при достижении лимита штрафных очков.
#
# Требования:
#
# 1. Программа должна случайным образом выбирать слово из списка.
# 2. Игрок должен иметь возможность вводить буквы по одной за попытку.
# 3. Если игрок угадал букву, она должна отображаться в правильных позициях в слове.
# Вместо остальных (скрытых) букв показываются звездочки *.
# 4. Если игрок назвал неправильную букву, количество штрафных очков должно увеличиваться.
# 5. Игра заканчивается победой, если все буквы слова угаданы, или проигрышем,
# если количество штрафных очков достигает лимита (например, 6).

import random

import random

def play_hangman():
    print("\nДобро пожаловать в игру: << Виселица >>\n")

    words = ["яблоко", "машина", "компьютер", "программа", "книга", "робот", "питон"]
    word = random.choice(words)  # Случайное слово
    guessed_word = ["_"] * len(word)  # Маскируем слово
    attempts = 6  # Количество попыток
    used_letters = set()  # Для хранения использованных букв

    print(f"Слово состоит из {len(word)} букв: {' '.join(guessed_word)}")
    print(f"У вас {attempts} попыток.\n")

    while attempts > 0 and "_" in guessed_word:
        letter = input("Введите букву (или попробуйте угадать слово): ").lower()

        # Проверка, если игрок ввел больше одной буквы
        if len(letter) > 1:
            if letter == word:
                print(f"\nПоздравляем! Вы угадали слово: {word}")
                return
            else:
                attempts -= 1
                print(f"Неверно! Это не то слово. Осталось попыток: {attempts}\n")
                continue

        # Проверка, что буква уже была введена
        if letter in used_letters:
            print("Вы уже использовали эту букву. Попробуйте другую.\n")
            continue

        # Добавляем букву в использованные
        used_letters.add(letter)

        if letter in word:
            print(f"Верно! Буква '{letter}' есть в слове.\n")
            # Обновляем отображаемое слово
            for i, char in enumerate(word):
                if char == letter:
                    guessed_word[i] = letter
        else:
            attempts -= 1
            print(f"Неверно! Буквы '{letter}' нет в слове. Осталось попыток: {attempts}\n")

        # Печать текущего состояния слова
        print("Слово: ", " ".join(guessed_word))
        print("Использованные буквы: ", ", ".join(sorted(used_letters)), "\n")

    # Проверяем, угадал ли игрок слово
    if "_" not in guessed_word:
        print(f"Поздравляем! Вы угадали слово: {''.join(guessed_word)}")
    else:
        print(f"Вы проиграли! Слово было: {word}")

# Запуск игры
if __name__ == "__main__":
    play_hangman()
